{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultLocale = undefined;\nexports.setLocale = setLocale;\nexports.getLocale = getLocale;\nexports.messageFormatter = messageFormatter;\n\nvar _intlMessageformat = require('intl-messageformat');\n\nvar _intlMessageformat2 = _interopRequireDefault(_intlMessageformat);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar defaultLocale = exports.defaultLocale = typeof navigator !== 'undefined' && (navigator.language || navigator.userLanguage) || 'en-US';\nvar currentLocale = defaultLocale;\n\nfunction setLocale(locale) {\n  currentLocale = locale;\n}\n\nfunction getLocale() {\n  return currentLocale;\n}\n\nfunction messageFormatter(strings) {\n  var cache = {};\n  return function formatMessage(key, variables, formats) {\n    var message = cache[key + '.' + currentLocale];\n\n    if (!message) {\n      var localeStrings = strings[currentLocale] || strings['en-US'];\n      var msg = localeStrings[key];\n\n      if (!msg) {\n        throw new Error('Could not find intl message ' + key + ' in ' + currentLocale + ' locale');\n      }\n\n      message = new _intlMessageformat2.default(msg, currentLocale, formats);\n      cache[key] = message;\n    }\n\n    return message.format(variables);\n  };\n}","map":null,"metadata":{},"sourceType":"script"}
{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar _collectionView = require('@react/collection-view');\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar TableViewLayout = function (_ListLayout) {\n  _inherits(TableViewLayout, _ListLayout);\n\n  function TableViewLayout() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, TableViewLayout);\n\n    var _this = _possibleConstructorReturn(this, (TableViewLayout.__proto__ || Object.getPrototypeOf(TableViewLayout)).call(this, options));\n\n    _this.insertionIndicator = null;\n    return _this;\n  }\n\n  _createClass(TableViewLayout, [{\n    key: 'getLayoutInfo',\n    value: function getLayoutInfo(type, section, index) {\n      if (type === 'insertion-indicator') {\n        return this.insertionIndicator;\n      }\n\n      return _get(TableViewLayout.prototype.__proto__ || Object.getPrototypeOf(TableViewLayout.prototype), 'getLayoutInfo', this).call(this, type, section, index);\n    }\n  }, {\n    key: 'getVisibleLayoutInfos',\n    value: function getVisibleLayoutInfos(rect) {\n      var layoutInfos = _get(TableViewLayout.prototype.__proto__ || Object.getPrototypeOf(TableViewLayout.prototype), 'getVisibleLayoutInfos', this).call(this, rect);\n\n      if (this.insertionIndicator) {\n        layoutInfos.push(this.insertionIndicator);\n      }\n\n      return layoutInfos;\n    }\n  }, {\n    key: 'validate',\n    value: function validate() {\n      _get(TableViewLayout.prototype.__proto__ || Object.getPrototypeOf(TableViewLayout.prototype), 'validate', this).call(this);\n\n      var count = this.collectionView.getSectionLength(0);\n      this.contentHeight = count * this.rowHeight - 1; // Show the drop insertion indicator if the default drop position of the table view is \"between\",\n      // the target's drop position is also \"between\", and the table is not empty.\n\n      var dropTarget = this.collectionView._dropTarget;\n      var showInsertionIndicator = dropTarget && this.component.props.dropPosition === 'between' && dropTarget.dropPosition === _collectionView.DragTarget.DROP_BETWEEN && count > 0;\n\n      if (showInsertionIndicator) {\n        var l = new _collectionView.LayoutInfo('insertion-indicator');\n        l.rect = new _collectionView.Rect(0, Math.max(0, Math.min(this.contentHeight - 3, dropTarget.indexPath.index * this.rowHeight - 1)), this.collectionView.size.width, 2);\n        l.zIndex = 10;\n        this.insertionIndicator = l;\n      } else {\n        this.insertionIndicator = null;\n      }\n    }\n  }, {\n    key: 'getDropTarget',\n    value: function getDropTarget(point) {\n      var dropPosition = this.component.props.dropPosition === 'on' ? _collectionView.DragTarget.DROP_ON : _collectionView.DragTarget.DROP_BETWEEN; // If we are dropping between rows, the target should move to the\n      // next item halfway through a row.\n\n      if (dropPosition === _collectionView.DragTarget.DROP_BETWEEN) {\n        point = point.copy();\n        point.y += this.rowHeight / 2;\n      }\n\n      var indexPath = this.collectionView.indexPathAtPoint(point);\n\n      if (indexPath) {\n        return new _collectionView.DragTarget('item', indexPath, dropPosition);\n      } else {\n        var index = dropPosition === _collectionView.DragTarget.DROP_ON ? 0 : this.collectionView.getSectionLength(0);\n        return new _collectionView.DragTarget('item', new _collectionView.IndexPath(0, index), _collectionView.DragTarget.DROP_BETWEEN);\n      }\n    }\n  }]);\n\n  return TableViewLayout;\n}(_collectionView.ListLayout);\n\nexports.default = TableViewLayout;","map":{"version":3,"sources":["/Users/rvang/Desktop/Spectrum/testapp/src/Prototypes/TableClickAffordance/Proto1/Elements/TableView/js/TableViewLayout.js"],"names":["Object","defineProperty","exports","value","default","undefined","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","call","_collectionView","require","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","TableViewLayout","_ListLayout","options","arguments","_this","insertionIndicator","getLayoutInfo","type","section","index","getVisibleLayoutInfos","rect","layoutInfos","push","validate","count","collectionView","getSectionLength","contentHeight","rowHeight","dropTarget","_dropTarget","showInsertionIndicator","component","dropPosition","DragTarget","DROP_BETWEEN","l","LayoutInfo","Rect","Math","max","min","indexPath","size","width","zIndex","getDropTarget","point","DROP_ON","copy","y","indexPathAtPoint","IndexPath","ListLayout"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,SAAlB;;AAEA,IAAIC,YAAY,GAAG,YAAY;AAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAAE,UAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AAA2BE,MAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,MAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4Bf,MAAAA,MAAM,CAACC,cAAP,CAAsBO,MAAtB,EAA8BI,UAAU,CAACI,GAAzC,EAA8CJ,UAA9C;AAA4D;AAAE;;AAAC,SAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,QAAID,UAAJ,EAAgBX,gBAAgB,CAACU,WAAW,CAACG,SAAb,EAAwBF,UAAxB,CAAhB;AAAqD,QAAIC,WAAJ,EAAiBZ,gBAAgB,CAACU,WAAD,EAAcE,WAAd,CAAhB;AAA4C,WAAOF,WAAP;AAAqB,GAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAII,IAAI,GAAG,SAASC,GAAT,CAAaC,MAAb,EAAqBC,QAArB,EAA+BC,QAA/B,EAAyC;AAAE,MAAIF,MAAM,KAAK,IAAf,EAAqBA,MAAM,GAAGG,QAAQ,CAACN,SAAlB;AAA6B,MAAIO,IAAI,GAAG3B,MAAM,CAAC4B,wBAAP,CAAgCL,MAAhC,EAAwCC,QAAxC,CAAX;;AAA8D,MAAIG,IAAI,KAAKtB,SAAb,EAAwB;AAAE,QAAIwB,MAAM,GAAG7B,MAAM,CAAC8B,cAAP,CAAsBP,MAAtB,CAAb;;AAA4C,QAAIM,MAAM,KAAK,IAAf,EAAqB;AAAE,aAAOxB,SAAP;AAAmB,KAA1C,MAAgD;AAAE,aAAOiB,GAAG,CAACO,MAAD,EAASL,QAAT,EAAmBC,QAAnB,CAAV;AAAyC;AAAE,GAAnK,MAAyK,IAAI,WAAWE,IAAf,EAAqB;AAAE,WAAOA,IAAI,CAACxB,KAAZ;AAAoB,GAA3C,MAAiD;AAAE,QAAI4B,MAAM,GAAGJ,IAAI,CAACL,GAAlB;;AAAuB,QAAIS,MAAM,KAAK1B,SAAf,EAA0B;AAAE,aAAOA,SAAP;AAAmB;;AAAC,WAAO0B,MAAM,CAACC,IAAP,CAAYP,QAAZ,CAAP;AAA+B;AAAE,CAA1e;;AAEA,IAAIQ,eAAe,GAAGC,OAAO,CAAC,wBAAD,CAA7B;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAmCnB,WAAnC,EAAgD;AAAE,MAAI,EAAEmB,QAAQ,YAAYnB,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIoB,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0CP,IAA1C,EAAgD;AAAE,MAAI,CAACO,IAAL,EAAW;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOR,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0EO,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIN,SAAJ,CAAc,6DAA6D,OAAOM,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAACtB,SAAT,GAAqBpB,MAAM,CAAC4C,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACvB,SAAvC,EAAkD;AAAEyB,IAAAA,WAAW,EAAE;AAAE1C,MAAAA,KAAK,EAAEuC,QAAT;AAAmB7B,MAAAA,UAAU,EAAE,KAA/B;AAAsCE,MAAAA,QAAQ,EAAE,IAAhD;AAAsDD,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAI6B,UAAJ,EAAgB3C,MAAM,CAAC8C,cAAP,GAAwB9C,MAAM,CAAC8C,cAAP,CAAsBJ,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACK,SAAT,GAAqBJ,UAA3F;AAAwG;;AAE9e,IAAIK,eAAe,GAAG,UAAUC,WAAV,EAAuB;AAC3CR,EAAAA,SAAS,CAACO,eAAD,EAAkBC,WAAlB,CAAT;;AAEA,WAASD,eAAT,GAA2B;AACzB,QAAIE,OAAO,GAAGC,SAAS,CAACxC,MAAV,GAAmB,CAAnB,IAAwBwC,SAAS,CAAC,CAAD,CAAT,KAAiB9C,SAAzC,GAAqD8C,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;;AAEAhB,IAAAA,eAAe,CAAC,IAAD,EAAOa,eAAP,CAAf;;AAEA,QAAII,KAAK,GAAGd,0BAA0B,CAAC,IAAD,EAAO,CAACU,eAAe,CAACD,SAAhB,IAA6B/C,MAAM,CAAC8B,cAAP,CAAsBkB,eAAtB,CAA9B,EAAsEhB,IAAtE,CAA2E,IAA3E,EAAiFkB,OAAjF,CAAP,CAAtC;;AAEAE,IAAAA,KAAK,CAACC,kBAAN,GAA2B,IAA3B;AACA,WAAOD,KAAP;AACD;;AAED9C,EAAAA,YAAY,CAAC0C,eAAD,EAAkB,CAAC;AAC7BhC,IAAAA,GAAG,EAAE,eADwB;AAE7Bb,IAAAA,KAAK,EAAE,SAASmD,aAAT,CAAuBC,IAAvB,EAA6BC,OAA7B,EAAsCC,KAAtC,EAA6C;AAElD,UAAIF,IAAI,KAAK,qBAAb,EAAoC;AAClC,eAAO,KAAKF,kBAAZ;AACD;;AAED,aAAOhC,IAAI,CAAC2B,eAAe,CAAC5B,SAAhB,CAA0B2B,SAA1B,IAAuC/C,MAAM,CAAC8B,cAAP,CAAsBkB,eAAe,CAAC5B,SAAtC,CAAxC,EAA0F,eAA1F,EAA2G,IAA3G,CAAJ,CAAqHY,IAArH,CAA0H,IAA1H,EAAgIuB,IAAhI,EAAsIC,OAAtI,EAA+IC,KAA/I,CAAP;AACD;AAT4B,GAAD,EAU3B;AACDzC,IAAAA,GAAG,EAAE,uBADJ;AAEDb,IAAAA,KAAK,EAAE,SAASuD,qBAAT,CAA+BC,IAA/B,EAAqC;AAC1C,UAAIC,WAAW,GAAGvC,IAAI,CAAC2B,eAAe,CAAC5B,SAAhB,CAA0B2B,SAA1B,IAAuC/C,MAAM,CAAC8B,cAAP,CAAsBkB,eAAe,CAAC5B,SAAtC,CAAxC,EAA0F,uBAA1F,EAAmH,IAAnH,CAAJ,CAA6HY,IAA7H,CAAkI,IAAlI,EAAwI2B,IAAxI,CAAlB;;AAEA,UAAI,KAAKN,kBAAT,EAA6B;AAC3BO,QAAAA,WAAW,CAACC,IAAZ,CAAiB,KAAKR,kBAAtB;AACD;;AAED,aAAOO,WAAP;AACD;AAVA,GAV2B,EAqB3B;AACD5C,IAAAA,GAAG,EAAE,UADJ;AAEDb,IAAAA,KAAK,EAAE,SAAS2D,QAAT,GAAoB;AACzBzC,MAAAA,IAAI,CAAC2B,eAAe,CAAC5B,SAAhB,CAA0B2B,SAA1B,IAAuC/C,MAAM,CAAC8B,cAAP,CAAsBkB,eAAe,CAAC5B,SAAtC,CAAxC,EAA0F,UAA1F,EAAsG,IAAtG,CAAJ,CAAgHY,IAAhH,CAAqH,IAArH;;AAEA,UAAI+B,KAAK,GAAG,KAAKC,cAAL,CAAoBC,gBAApB,CAAqC,CAArC,CAAZ;AACA,WAAKC,aAAL,GAAqBH,KAAK,GAAG,KAAKI,SAAb,GAAyB,CAA9C,CAJyB,CAMzB;AACA;;AACA,UAAIC,UAAU,GAAG,KAAKJ,cAAL,CAAoBK,WAArC;AACA,UAAIC,sBAAsB,GAAGF,UAAU,IAAI,KAAKG,SAAL,CAAe9D,KAAf,CAAqB+D,YAArB,KAAsC,SAApD,IAAiEJ,UAAU,CAACI,YAAX,KAA4BvC,eAAe,CAACwC,UAAhB,CAA2BC,YAAxH,IAAwIX,KAAK,GAAG,CAA7K;;AAEA,UAAIO,sBAAJ,EAA4B;AAC1B,YAAIK,CAAC,GAAG,IAAI1C,eAAe,CAAC2C,UAApB,CAA+B,qBAA/B,CAAR;AACAD,QAAAA,CAAC,CAAChB,IAAF,GAAS,IAAI1B,eAAe,CAAC4C,IAApB,CAAyB,CAAzB,EAA4BC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAACE,GAAL,CAAS,KAAKd,aAAL,GAAqB,CAA9B,EAAiCE,UAAU,CAACa,SAAX,CAAqBxB,KAArB,GAA6B,KAAKU,SAAlC,GAA8C,CAA/E,CAAZ,CAA5B,EAA4H,KAAKH,cAAL,CAAoBkB,IAApB,CAAyBC,KAArJ,EAA4J,CAA5J,CAAT;AACAR,QAAAA,CAAC,CAACS,MAAF,GAAW,EAAX;AACA,aAAK/B,kBAAL,GAA0BsB,CAA1B;AACD,OALD,MAKO;AACL,aAAKtB,kBAAL,GAA0B,IAA1B;AACD;AACF;AArBA,GArB2B,EA2C3B;AACDrC,IAAAA,GAAG,EAAE,eADJ;AAEDb,IAAAA,KAAK,EAAE,SAASkF,aAAT,CAAuBC,KAAvB,EAA8B;AACnC,UAAId,YAAY,GAAG,KAAKD,SAAL,CAAe9D,KAAf,CAAqB+D,YAArB,KAAsC,IAAtC,GAA6CvC,eAAe,CAACwC,UAAhB,CAA2Bc,OAAxE,GAAkFtD,eAAe,CAACwC,UAAhB,CAA2BC,YAAhI,CADmC,CAGnC;AACA;;AACA,UAAIF,YAAY,KAAKvC,eAAe,CAACwC,UAAhB,CAA2BC,YAAhD,EAA8D;AAC5DY,QAAAA,KAAK,GAAGA,KAAK,CAACE,IAAN,EAAR;AACAF,QAAAA,KAAK,CAACG,CAAN,IAAW,KAAKtB,SAAL,GAAiB,CAA5B;AACD;;AAED,UAAIc,SAAS,GAAG,KAAKjB,cAAL,CAAoB0B,gBAApB,CAAqCJ,KAArC,CAAhB;;AACA,UAAIL,SAAJ,EAAe;AACb,eAAO,IAAIhD,eAAe,CAACwC,UAApB,CAA+B,MAA/B,EAAuCQ,SAAvC,EAAkDT,YAAlD,CAAP;AACD,OAFD,MAEO;AACL,YAAIf,KAAK,GAAGe,YAAY,KAAKvC,eAAe,CAACwC,UAAhB,CAA2Bc,OAA5C,GAAsD,CAAtD,GAA0D,KAAKvB,cAAL,CAAoBC,gBAApB,CAAqC,CAArC,CAAtE;AACA,eAAO,IAAIhC,eAAe,CAACwC,UAApB,CAA+B,MAA/B,EAAuC,IAAIxC,eAAe,CAAC0D,SAApB,CAA8B,CAA9B,EAAiClC,KAAjC,CAAvC,EAAgFxB,eAAe,CAACwC,UAAhB,CAA2BC,YAA3G,CAAP;AACD;AACF;AAnBA,GA3C2B,CAAlB,CAAZ;;AAiEA,SAAO1B,eAAP;AACD,CAhFqB,CAgFpBf,eAAe,CAAC2D,UAhFI,CAAtB;;AAkFA1F,OAAO,CAACE,OAAR,GAAkB4C,eAAlB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _collectionView = require('@react/collection-view');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TableViewLayout = function (_ListLayout) {\n  _inherits(TableViewLayout, _ListLayout);\n\n  function TableViewLayout() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, TableViewLayout);\n\n    var _this = _possibleConstructorReturn(this, (TableViewLayout.__proto__ || Object.getPrototypeOf(TableViewLayout)).call(this, options));\n\n    _this.insertionIndicator = null;\n    return _this;\n  }\n\n  _createClass(TableViewLayout, [{\n    key: 'getLayoutInfo',\n    value: function getLayoutInfo(type, section, index) {\n\n      if (type === 'insertion-indicator') {\n        return this.insertionIndicator;\n      }\n\n      return _get(TableViewLayout.prototype.__proto__ || Object.getPrototypeOf(TableViewLayout.prototype), 'getLayoutInfo', this).call(this, type, section, index);\n    }\n  }, {\n    key: 'getVisibleLayoutInfos',\n    value: function getVisibleLayoutInfos(rect) {\n      var layoutInfos = _get(TableViewLayout.prototype.__proto__ || Object.getPrototypeOf(TableViewLayout.prototype), 'getVisibleLayoutInfos', this).call(this, rect);\n\n      if (this.insertionIndicator) {\n        layoutInfos.push(this.insertionIndicator);\n      }\n\n      return layoutInfos;\n    }\n  }, {\n    key: 'validate',\n    value: function validate() {\n      _get(TableViewLayout.prototype.__proto__ || Object.getPrototypeOf(TableViewLayout.prototype), 'validate', this).call(this);\n\n      var count = this.collectionView.getSectionLength(0);\n      this.contentHeight = count * this.rowHeight - 1;\n\n      // Show the drop insertion indicator if the default drop position of the table view is \"between\",\n      // the target's drop position is also \"between\", and the table is not empty.\n      var dropTarget = this.collectionView._dropTarget;\n      var showInsertionIndicator = dropTarget && this.component.props.dropPosition === 'between' && dropTarget.dropPosition === _collectionView.DragTarget.DROP_BETWEEN && count > 0;\n\n      if (showInsertionIndicator) {\n        var l = new _collectionView.LayoutInfo('insertion-indicator');\n        l.rect = new _collectionView.Rect(0, Math.max(0, Math.min(this.contentHeight - 3, dropTarget.indexPath.index * this.rowHeight - 1)), this.collectionView.size.width, 2);\n        l.zIndex = 10;\n        this.insertionIndicator = l;\n      } else {\n        this.insertionIndicator = null;\n      }\n    }\n  }, {\n    key: 'getDropTarget',\n    value: function getDropTarget(point) {\n      var dropPosition = this.component.props.dropPosition === 'on' ? _collectionView.DragTarget.DROP_ON : _collectionView.DragTarget.DROP_BETWEEN;\n\n      // If we are dropping between rows, the target should move to the\n      // next item halfway through a row.\n      if (dropPosition === _collectionView.DragTarget.DROP_BETWEEN) {\n        point = point.copy();\n        point.y += this.rowHeight / 2;\n      }\n\n      var indexPath = this.collectionView.indexPathAtPoint(point);\n      if (indexPath) {\n        return new _collectionView.DragTarget('item', indexPath, dropPosition);\n      } else {\n        var index = dropPosition === _collectionView.DragTarget.DROP_ON ? 0 : this.collectionView.getSectionLength(0);\n        return new _collectionView.DragTarget('item', new _collectionView.IndexPath(0, index), _collectionView.DragTarget.DROP_BETWEEN);\n      }\n    }\n  }]);\n\n  return TableViewLayout;\n}(_collectionView.ListLayout);\n\nexports.default = TableViewLayout;"]},"metadata":{},"sourceType":"module"}
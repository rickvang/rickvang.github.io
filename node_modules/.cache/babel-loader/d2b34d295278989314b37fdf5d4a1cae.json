{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _Button = require('../../Button');\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _HelpOutline = require('../../Icon/HelpOutline');\n\nvar _HelpOutline2 = _interopRequireDefault(_HelpOutline);\n\nvar _Link = require('../../Link');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nvar _List = require('../../List');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Search = require('../../Search');\n\nvar _Search2 = _interopRequireDefault(_Search);\n\nvar _ShellMenu = require('./ShellMenu');\n\nvar _ShellMenu2 = _interopRequireDefault(_ShellMenu);\n\nvar _Wait = require('../../Wait');\n\nvar _Wait2 = _interopRequireDefault(_Wait);\n\nrequire('../style/ShellHelp.css');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ShellHelp = function (_Component) {\n  _inherits(ShellHelp, _Component);\n\n  function ShellHelp() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ShellHelp);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ShellHelp.__proto__ || Object.getPrototypeOf(ShellHelp)).call.apply(_ref, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ShellHelp, [{\n    key: 'renderResults',\n    value: function renderResults() {\n      var searchResults = this.props.searchResults;\n\n      if (searchResults) {\n        return this.renderSearchResults();\n      }\n\n      return this.renderDefaultResults();\n    }\n  }, {\n    key: 'renderSearchResults',\n    value: function renderSearchResults() {\n      var _this2 = this;\n\n      var _props = this.props,\n          searchResults = _props.searchResults,\n          numTotalResults = _props.numTotalResults,\n          moreSearchResultsUrl = _props.moreSearchResultsUrl;\n      var searchTerm = this.state.searchTerm; // https://git.corp.adobe.com/React/react-coral/issues/134\n      // unicode for: '&nbsp; &bull; &nbsp';\n\n      var separator = \"\\xA0 \\u2022 \\xA0\";\n      var allResults = {\n        href: moreSearchResultsUrl + '?q=' + searchTerm,\n        title: 'See all ' + numTotalResults + ' results'\n      };\n      return _react2.default.createElement(_List.List, {\n        className: 'coral3-Shell-help-results'\n      }, numTotalResults !== 0 && searchResults && searchResults.length ? searchResults.map(function (result, index) {\n        return _react2.default.createElement(_List.ListItem, {\n          key: index,\n          onClick: _this2.handleResultClick.bind(_this2, result)\n        }, _react2.default.createElement(_Link2.default, {\n          href: result.href,\n          target: '_blank',\n          rel: 'noopener noreferrer'\n        }, _react2.default.createElement('span', null, result.title, _react2.default.createElement('div', {\n          className: 'coral3-Shell-help-result-description'\n        }, Array.isArray(result.tags) ? result.tags.join(separator) : ''))));\n      }).concat(_react2.default.createElement(_List.ListItem, {\n        key: 'all-results',\n        onClick: this.handleResultClick.bind(this, allResults)\n      }, _react2.default.createElement(_Link2.default, {\n        className: 'spectrum-Link coral3-Shell-help-allResults',\n        href: allResults.href,\n        target: '_blank',\n        rel: 'noopener noreferrer'\n      }, allResults.title))) : _react2.default.createElement('div', {\n        className: 'coral3-Shell-help-resultMessage'\n      }, _react2.default.createElement('div', {\n        className: 'coral3-Shell-help-resultMessage-container'\n      }, _react2.default.createElement('div', {\n        className: 'coral-Heading--1 coral3-Shell-help-resultMessage-heading'\n      }, 'No results found'))));\n    }\n  }, {\n    key: 'renderDefaultResults',\n    value: function renderDefaultResults() {\n      var _this3 = this;\n\n      var defaultResults = this.props.defaultResults;\n      return _react2.default.createElement(_List.List, {\n        className: 'coral3-Shell-help-items'\n      }, defaultResults && defaultResults.length ? defaultResults.map(function (result, index) {\n        return _react2.default.createElement(_List.ListItem, {\n          icon: result.icon,\n          key: index,\n          onClick: _this3.handleResultClick.bind(_this3, result)\n        }, _react2.default.createElement(_Link2.default, {\n          className: 'coral3-Shell-help-item',\n          href: result.href,\n          target: '_blank',\n          rel: 'noopener noreferrer'\n        }, result.label));\n      }) : null);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          className = _props2.className,\n          loading = _props2.loading,\n          otherProps = _objectWithoutProperties(_props2, ['className', 'loading']);\n\n      return _react2.default.createElement(_ShellMenu2.default, _extends({\n        placement: 'right',\n        animateFrom: 'top',\n        target: _react2.default.createElement(_Button2.default, {\n          className: 'coral3-Shell-menu-button',\n          variant: 'minimal',\n          icon: _react2.default.createElement(_HelpOutline2.default, null)\n        }),\n        onVisible: this.handleVisible,\n        onHidden: this.props.onHide\n      }, otherProps), _react2.default.createElement('div', {\n        ref: function ref(el) {\n          _this4.contentRef = el;\n        },\n        className: (0, _classnames2.default)('coral3-Shell-help', className)\n      }, _react2.default.createElement(_Search2.default, {\n        className: 'coral3-Shell-help-search',\n        placeholder: 'Search Help',\n        onSubmit: this.handleSearch,\n        onChange: this.props.onChange,\n        quiet: true\n      }), loading ? _react2.default.createElement('div', {\n        className: 'coral3-Shell-help-loading'\n      }, _react2.default.createElement(_Wait2.default, {\n        className: 'coral3-Shell-help-loading-wait'\n      }), _react2.default.createElement('span', {\n        className: 'coral-Heading--2 coral3-Shell-help-loading-info'\n      }, 'Searching Help...')) : this.renderResults()));\n    }\n  }]);\n\n  return ShellHelp;\n}(_react.Component);\n\nShellHelp.defaultProps = {\n  defaultResults: [],\n  onSearch: function onSearch() {},\n  onChange: function onChange() {},\n  onHide: function onHide() {},\n  onResultClick: function onResultClick() {}\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.state = {\n    searchTerm: ''\n  };\n\n  this.handleSearch = function (val) {\n    var onSearch = _this5.props.onSearch;\n    onSearch(val);\n\n    _this5.setState({\n      searchTerm: val\n    });\n  };\n\n  this.handleVisible = function () {\n    if (_this5.contentRef) {\n      _this5.contentRef.querySelector('.spectrum-Search-input').focus();\n    }\n  };\n\n  this.handleResultClick = function () {\n    if (_this5.props.onResultClick) {\n      var _props3;\n\n      (_props3 = _this5.props).onResultClick.apply(_props3, arguments);\n    }\n  };\n};\n\nexports.default = ShellHelp;\nShellHelp.displayName = 'ShellHelp';","map":null,"metadata":{},"sourceType":"script"}